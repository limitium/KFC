<div class="container">
    <div class="progress" ng-show="investmentNew.busy">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100"
             aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only"></span>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-8">
            <form role="form" name="investmentForm" class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-3 control-label">Тип объекта</label>
                    <div class="col-sm-7">
                        <ui-select ng-model="investmentNew.investment.propertyType" ng-change="investmentNew.onPropertyTypeChange()">
                            <ui-select-match>{{$select.selected.text}}</ui-select-match>
                            <ui-select-choices
                                    repeat="item.itemid as item in investmentNew.getInvestPropertyType().items | filter:$select.search">
                                <span ng-bind-html="item.text | highlight: $select.search"></span>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>
                <div ng-include="investmentNew.currentTemplate"></div>
                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-9">
                        <a
                                ng-link="main:investmentList"
                                ng-disabled="investmentNew.busy"
                                ng-class="{disabled:investmentNew.busy}"
                                class="btn btn-default">
                            <i class="mdi-navigation-arrow-back left"></i>
                            Cancel
                        </a>
                        <button
                                ng-disabled="!investmentForm.$valid || investmentNew.busy"
                                ng-class="{disabled:!investmentForm.$valid || investmentNew.busy}"
                                ng-click="investmentNew.add()"
                                class="btn btn-primary">
                            <i class="mdi-navigation-check left"></i>
                            Add
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-sm-4">
            <h4>Resulting investment:</h4>
            {{investmentNew.investment | json}}
        </div>
    </div>
</div>